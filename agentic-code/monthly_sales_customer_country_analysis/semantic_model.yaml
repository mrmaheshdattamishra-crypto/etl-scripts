schema:
  name: monthly_sales_customer_country_analysis
  description: Semantic data model for analyzing monthly sales by customer country
  
  tables:
    - name: store_sales
      description: Store sales transaction data
      type: fact
      columns:
        - name: ss_sold_date_sk
          type: INTEGER
          description: Surrogate key to date dimension for sale date
          nullable: true
        - name: ss_customer_sk
          type: INTEGER
          description: Surrogate key to customer dimension
          nullable: true
        - name: ss_ext_sales_price
          type: DECIMAL(7,2)
          description: Extended sales price for the transaction
          nullable: true
        - name: ss_quantity
          type: INTEGER
          description: Quantity of items sold
          nullable: true
        - name: ss_net_profit
          type: DECIMAL(7,2)
          description: Net profit from the transaction
          nullable: true
        - name: ss_ticket_number
          type: INTEGER
          description: Ticket number for the transaction
          nullable: true
        - name: ss_item_sk
          type: INTEGER
          description: Surrogate key to item dimension
          nullable: true
        - name: ss_store_sk
          type: INTEGER
          description: Surrogate key to store dimension
          nullable: true

    - name: customer
      description: Customer master data
      type: dimension
      columns:
        - name: c_customer_sk
          type: INTEGER
          description: Surrogate key for customer
          nullable: true
        - name: c_customer_id
          type: VARCHAR
          description: Natural key for customer
          nullable: true
        - name: c_current_addr_sk
          type: INTEGER
          description: Surrogate key to current address
          nullable: true
        - name: c_birth_country
          type: VARCHAR
          description: Country where customer was born
          nullable: true
        - name: c_first_name
          type: VARCHAR
          description: Customer first name
          nullable: true
        - name: c_last_name
          type: VARCHAR
          description: Customer last name
          nullable: true
        - name: c_birth_year
          type: INTEGER
          description: Year customer was born
          nullable: true

    - name: customer_address
      description: Customer address information
      type: dimension
      columns:
        - name: ca_address_sk
          type: INTEGER
          description: Surrogate key for address
          nullable: true
        - name: ca_address_id
          type: VARCHAR
          description: Natural key for address
          nullable: true
        - name: ca_country
          type: VARCHAR
          description: Country of the address
          nullable: true
        - name: ca_state
          type: VARCHAR
          description: State or province of the address
          nullable: true
        - name: ca_city
          type: VARCHAR
          description: City of the address
          nullable: true
        - name: ca_zip
          type: VARCHAR
          description: Postal code of the address
          nullable: true

    - name: date_dim
      description: Date dimension table
      type: dimension
      columns:
        - name: d_date_sk
          type: INTEGER
          description: Surrogate key for date
          nullable: true
        - name: d_date
          type: DATE
          description: Calendar date
          nullable: true
        - name: d_year
          type: INTEGER
          description: Year component of date
          nullable: true
        - name: d_moy
          type: INTEGER
          description: Month of year (1-12)
          nullable: true
        - name: d_month_seq
          type: INTEGER
          description: Sequential month number
          nullable: true
        - name: d_quarter_seq
          type: INTEGER
          description: Sequential quarter number
          nullable: true

relationships:
  - name: store_sales_to_customer
    type: many_to_one
    from_table: store_sales
    from_column: ss_customer_sk
    to_table: customer
    to_column: c_customer_sk
    description: Links sales transactions to customer information

  - name: customer_to_address
    type: many_to_one
    from_table: customer
    from_column: c_current_addr_sk
    to_table: customer_address
    to_column: ca_address_sk
    description: Links customers to their current address

  - name: store_sales_to_date
    type: many_to_one
    from_table: store_sales
    from_column: ss_sold_date_sk
    to_table: date_dim
    to_column: d_date_sk
    description: Links sales transactions to date information